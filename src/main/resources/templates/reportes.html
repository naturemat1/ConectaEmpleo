<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <!--
        Vista: reportes.html
        Descripci√≥n: P√°gina de reportes de impacto que muestra m√©tricas clave del sistema.
        Atributos recibidos (Model):
        - ${usuariosCount}: N√∫mero total de usuarios registrados.
        - ${trabajosCount}: N√∫mero de empleos publicados.
        - ${postulacionesCount}: N√∫mero de postulaciones realizadas.
        - ${capacitacionesCount}: N√∫mero de capacitaciones disponibles.
        - ${inscripcionesCount}: N√∫mero de inscripciones a capacitaciones.
        - ${maxValor}: Valor m√°ximo entre todas las m√©tricas, usado para normalizar barras.
    -->
    <head>
        <meta charset="UTF-8">
        <title>Reportes de Impacto</title>
        <link rel="stylesheet" th:href="@{/css/style.css}">

        <!-- Estilos espec√≠ficos para gr√°fica simulada de barras horizontales -->
        <style>
            /* Contenedor principal del gr√°fico */
            .grafica-simulada {
                margin-top: 30px;
                padding: 20px;
                background-color: #f7f9fc;
                border-radius: 8px;
            }

            /* T√≠tulo del gr√°fico */
            .grafica-simulada h3 {
                margin-bottom: 15px;
                color: #333;
                text-align: center;
            }

            /* Cada fila de la barra (etiqueta + barra progresiva) */
            .barra {
                display: flex;
                align-items: center;
                margin-bottom: 12px;
                font-size: 14px;
                color: #333;
            }

            /* Etiqueta izquierda (ej. "Usuarios") */
            .barra span {
                width: 120px;
                font-weight: bold;
            }

            /* Barra de progreso visual */
            .valor {
                height: 24px;
                background-color: #00e5ff;
                border-radius: 4px;
                padding: 0 8px;
                color: white;
                font-weight: bold;
                text-align: center;
                min-width: 20px;
                transition: width 0.5s ease-in-out;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            }

            /* Colores diferenciados por categor√≠a para mejor visualizaci√≥n */
            .barra:nth-child(1) .valor { background-color: #00e5ff; } /* Usuarios */
            .barra:nth-child(2) .valor { background-color: #ff6b6b; } /* Trabajos */
            .barra:nth-child(3) .valor { background-color: #ffbe76; } /* Postulaciones */
            .barra:nth-child(4) .valor { background-color: #7ee8fa; } /* Capacitaciones */
            .barra:nth-child(5) .valor { background-color: #a2d2cc; } /* Inscripciones */

            /* Estilo adicional para el t√≠tulo del gr√°fico */
            .grafica-simulada h3 {
                font-size: 18px;
                color: #333;
                text-align: center;
            }
        </style>
    </head>
    <body>
        <!-- Encabezado con logo y navegaci√≥n principal -->
        <header>
            <div class="logo">Conecta <span style="color:#00e5ff;">Empleo</span></div>
            <nav>
                <a th:href="@{/}">Inicio</a>
                <a th:href="@{/empleos}">Empleos</a>
                <a th:href="@{/capacitaciones}">Capacitaciones</a>
                <a th:href="@{/usuario/perfil}">Mi Perfil</a>
            </nav>
        </header>

        <!-- Contenedor principal -->
        <div class="container">
            <!-- T√≠tulo principal de la p√°gina -->
            <h2>üìä Reportes de Impacto</h2>

            <!-- Lista de m√©tricas num√©ricas clave -->
            <ul>
                <li>Total de usuarios registrados: <strong th:text="${usuariosCount}">0</strong></li>
                <li>Empleos publicados: <strong th:text="${trabajosCount}">0</strong></li>
                <li>Postulaciones realizadas: <strong th:text="${postulacionesCount}">0</strong></li>
                <li>Capacitaciones disponibles: <strong th:text="${capacitacionesCount}">0</strong></li>
                <li>Inscripciones a capacitaciones: <strong th:text="${inscripcionesCount}">0</strong></li>
            </ul>

            <!-- Secci√≥n de gr√°fico simulado con barras horizontales -->
            <div class="grafica-simulada">
                <!-- T√≠tulo del gr√°fico visual -->
                <h3>üìä Gr√°fico de impacto</h3>

                <!-- Barra: Usuarios registrados -->
                <div class="barra">
                    <span>Usuarios</span>
                    <div class="valor"
                         th:style="'width:' + (${usuariosCount} * 100 / ${maxValor}) + '%'">
                        [[${usuariosCount}]]
                    </div>
                </div>

                <!-- Barra: Empleos publicados -->
                <div class="barra">
                    <span>Trabajos</span>
                    <div class="valor"
                         th:style="'width:' + (${trabajosCount} * 100 / ${maxValor}) + '%'">
                        [[${trabajosCount}]]
                    </div>
                </div>

                <!-- Barra: Postulaciones realizadas -->
                <div class="barra">
                    <span>Postulaciones</span>
                    <div class="valor"
                         th:style="'width:' + (${postulacionesCount} * 100 / ${maxValor}) + '%'">
                        [[${postulacionesCount}]]
                    </div>
                </div>

                <!-- Barra: Capacitaciones disponibles -->
                <div class="barra">
                    <span>Capacitaciones</span>
                    <div class="valor"
                         th:style="'width:' + (${capacitacionesCount} * 100 / ${maxValor}) + '%'">
                        [[${capacitacionesCount}]]
                    </div>
                </div>

                <!-- Barra: Inscripciones a capacitaciones -->
                <div class="barra">
                    <span>Inscripciones</span>
                    <div class="valor"
                         th:style="'width:' + (${inscripcionesCount} * 100 / ${maxValor}) + '%'">
                        [[${inscripcionesCount}]]
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>